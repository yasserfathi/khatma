import{m as B,ao as L,ap as F,q as H,a2 as X,an as Z,c as ee,w as i,k as m,l as te,o as c,f as e,a8 as o,a,d as _,a7 as d,e as j,a6 as V,i as ae,j as M,Q as x,aa as I,a9 as D,h as z,a5 as A,C as se,ab as re,aq as oe,ar as ie}from"./index-776326c9.js";import{Q as le}from"./QLinearProgress-b4cb347b.js";import{Q as ne}from"./QTooltip-82c0d486.js";import{Q as ce}from"./QSpace-0963216b.js";import{Q as de}from"./QChip-007a5e04.js";import{Q as ue}from"./QPage-6bef6b9e.js";import{C as me}from"./ClosePopup-ef2d2dfb.js";import{_ as pe}from"./_plugin-vue_export-helper-c27b6911.js";import"./position-engine-bd395f92.js";const he='<rect x="0" y="0" width="100" height="100" fill="none"></rect><g transform="translate(25 25)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(75 25)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.1s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(25 75)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.7"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.3s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(75 75)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.2s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g>',ve=B({name:"QSpinnerCube",props:L,setup(w){const{cSize:v,classes:y}=F(w);return()=>H("svg",{class:y.value,width:v.value,height:v.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",innerHTML:he})}}),ye='<g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',ge=B({name:"QSpinnerOval",props:L,setup(w){const{cSize:v,classes:y}=F(w);return()=>H("svg",{class:y.value,stroke:"currentColor",width:v.value,height:v.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",innerHTML:ye})}});const fe={class:"row justify-center"},xe={class:"col-12 col-md-8 text-center text-primary"},_e={class:"clock-display q-mb-lg"},we={class:"text-h3 text-weight-bolder text-primary tabular-nums tracking-wide shadow-text"},be={class:"text-subtitle1 text-grey-7 q-mt-sm"},ke={class:"row q-col-gutter-xl justify-center"},qe={class:"col-12 col-md-4"},Ce={class:"row items-center no-wrap"},Te={class:"col"},Se={key:0,class:"text-caption text-grey-8"},Qe={key:1,class:"text-caption text-grey-6"},je={class:"q-mt-xl"},Me={class:"row justify-between text-subtitle2 text-weight-bold q-mt-md"},Ie={class:"text-primary"},De={key:0,class:"text-grey-7"},ze={class:"col-12 col-md-4"},Pe={class:"row items-center justify-between q-mb-lg"},Ne={class:"column"},Ve={class:"text-caption text-grey-6"},Ae={key:0,class:"row justify-center q-pa-xl"},Be={key:1,class:"prayer-grid"},Le={class:"text-caption text-weight-bold opacity-80",style:{"font-size":"0.75rem"}},Fe={class:"text-h6 text-weight-bolder tabular-nums q-my-xs"},He={key:0,class:"next-label text-weight-bold"},$e={class:"col-12 col-md-4"},Ee={class:"absolute-right opacity-05",style:{"font-size":"20rem","line-height":"0",top:"-4rem",right:"-4rem"}},Ke={key:0,class:"row justify-center q-pa-md"},Oe={key:1,class:"column items-center full-width"},Ge={class:"ayah-text text-h5 text-center q-mb-lg",dir:"rtl"},Ue={class:"row items-center q-gutter-x-md"},Re={class:"surah-info bg-white-20 q-px-lg q-py-xs rounded-borders-20 text-subtitle2 text-weight-bold"},Ye={class:"row q-mt-xl justify-center"},Je={class:"col-12 col-md-12"},We={class:"text-h6 text-primary text-weight-bold q-mb-md islamic-font row items-center"},Xe={class:"row q-col-gutter-md"},Ze={class:"text-subtitle1 text-weight-bold text-primary"},et={class:"text-caption text-grey-6"},tt={class:"text-h6 text-primary text-weight-bold"},at={class:"text-h6 text-right islamic-font q-mb-md",style:{"line-height":"1.8"}},st={class:"row justify-between items-center"},rt={class:"text-h5 text-weight-bolder text-primary tabular-nums"},ot={__name:"IndexPage",setup(w){const v=m(""),y=m(""),b=m(null),P=m(!0),g=m(null),k=m(!0),u=m(null),f=m(!1),h=m(null),q=m(!1),C=m(null),$=[{title:"أذكار الصباح",icon:"wb_sunny",color:"orange-1",textColor:"orange-9",count:31,items:[{text:"أعوذ بالله من الشيطان الرجيم (آية الكرسي)",repeat:1},{text:"باسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم",repeat:3},{text:"رضيت بالله ربا وبالإسلام دينا وبمحمد صلى الله عليه وسلم نبيا",repeat:3},{text:"يا حي يا قيوم برحمتك أستغيث أصلح لي شأني كله ولا تكلني إلى نفسي طرفة عين",repeat:1}]},{title:"أذكار المساء",icon:"nights_stay",color:"indigo-1",textColor:"indigo-9",count:31,items:[{text:"أعوذ بالله من الشيطان الرجيم (آية الكرسي)",repeat:1},{text:"أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له",repeat:1},{text:"اللهم بك أمسينا، وبك أصبحنا، وبك نحيا، وبك نموت، وإليك المصير",repeat:1},{text:"حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم",repeat:7}]},{title:"أذكار النوم",icon:"bedtime",color:"deep-purple-1",textColor:"deep-purple-9",count:15,items:[{text:"باسمك ربي وضعت جنبي، وبك أرفعه، فإن أمسكت نفسي فارحمها، وإن أرسلتها فاحفظها بما تحفظ به عبادك الصالحين",repeat:1},{text:"اللهم قني عذابك يوم تبعث عبادك",repeat:3},{text:"باسمك اللهم أموت وأحيا",repeat:1}]},{title:"بعد الصلاة",icon:"mosque",color:"teal-1",textColor:"teal-9",count:10,items:[{text:"أستغفر الله (ثلاثاً) .. اللهم أنت السلام ومنك السلام، تباركت يا ذا الجلال والإكرام",repeat:1},{text:"لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",repeat:1},{text:"سبحان الله (33)، الحمد لله (33)، الله أكبر (33)",repeat:1}]}],E=r=>{C.value=r,q.value=!0},K={الفجر:{key:"Fajr",icon:"brightness_5"},الشروق:{key:"Sunrise",icon:"wb_sunny"},الظهر:{key:"Dhuhr",icon:"wb_sunny"},العصر:{key:"Asr",icon:"wb_cloudy"},المغرب:{key:"Maghrib",icon:"nights_stay"},العشاء:{key:"Isha",icon:"bedtime"}},T=r=>{if(!b.value)return!1;const s=new Date,t=s.getHours()*60+s.getMinutes(),l=Object.entries(b.value).filter(([p])=>["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"].includes(p)).map(([p,Q])=>{const[J,W]=Q.split(":").map(Number);return{key:p,minutes:J*60+W}}).sort((p,Q)=>p.minutes-Q.minutes);let n=l.find(p=>p.minutes>t);return n||(n=l[0]),n.key===r};let S=null;const N=()=>{const r=new Date;v.value=r.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit",hour12:!0}).replace("ص","ص").replace("م","م")},O=()=>{const r=new Date,s=new Intl.DateTimeFormat("ar-SA-u-ca-islamic-umalqura",{day:"numeric",month:"long",year:"numeric"}),t=new Intl.DateTimeFormat("ar-EG",{day:"numeric",month:"long",year:"numeric"});y.value=`${s.format(r)} | ${t.format(r)} م`},G=async()=>{try{const s=await(await fetch("https://api.aladhan.com/v1/timingsByCity?city=Makkah&country=SA&method=4")).json();b.value=s.data.timings}catch(r){console.error("Prayers error",r)}finally{P.value=!1}},U=async()=>{k.value=!0;try{const s=await(await fetch("https://api.alquran.cloud/v1/ayah/random/ar.alafasy")).json();g.value={text:s.data.text,surah:s.data.surah.name,numberInSurah:s.data.numberInSurah,audio:s.data.audio}}catch(r){console.error("Verse error",r)}finally{k.value=!1}},R=()=>{var r;(r=g.value)!=null&&r.audio&&(h.value||(h.value=new Audio(g.value.audio),h.value.onended=()=>{f.value=!1}),f.value?(h.value.pause(),h.value.currentTime=0,f.value=!1):(h.value.play(),f.value=!0))},Y=async()=>{try{const r=await te.get("/api/khatmas",{params:{type:"tilawa"}});r.data&&r.data.length>0&&(u.value=r.data[0])}catch(r){console.error("Khatma error",r)}};return X(()=>{N(),O(),G(),U(),Y(),S=setInterval(N,1e3)}),Z(()=>{S&&clearInterval(S),h.value&&(h.value.pause(),h.value=null)}),(r,s)=>(c(),ee(ue,{class:"q-pa-md"},{default:i(()=>[e("div",fe,[e("div",xe,[s[1]||(s[1]=e("div",{class:"text-h5 text-weight-bold q-mb-md islamic-font"},"السلام عليكم ورحمة الله وبركاته",-1)),e("div",_e,[e("div",we,o(v.value),1),e("div",be,o(y.value),1)])])]),e("div",ke,[e("div",qe,[a(x,{class:"glass-card full-height column border-primary-2 shadow-10 hover-lift"},{default:i(()=>[a(_,{class:"q-pb-none"},{default:i(()=>{var t,l,n,p;return[e("div",Ce,[e("div",Te,[s[2]||(s[2]=e("div",{class:"text-subtitle1 text-primary text-weight-bold"},"تفاصيل ختمة التلاوة",-1)),u.value?(c(),d("div",Se,o(u.value.khatma_no)+" | "+o((t=u.value.group)==null?void 0:t.name),1)):(c(),d("div",Qe,"لا توجد ختمات نشطة حالياً"))]),a(j,{color:"primary-1","text-color":"primary",icon:"menu_book",size:"48px",class:"shadow-2"})]),e("div",je,[a(le,{value:(l=u.value)!=null&&l.progress?u.value.progress.percentage/100:0,color:"primary","track-color":"primary-1",rounded:"",size:"12px",class:"shadow-inner"},null,8,["value"]),e("div",Me,[e("span",Ie,o((n=u.value)!=null&&n.progress?u.value.progress.percentage:0)+"% مكتمل",1),(p=u.value)!=null&&p.progress?(c(),d("span",De," ("+o(u.value.progress.finished)+" من "+o(u.value.progress.total)+" قراء استكملوا) ",1)):V("",!0)])])]}),_:1}),a(ae,{align:"center",class:"q-pa-md mt-auto"},{default:i(()=>[a(M,{unelevated:"",rounded:"",color:"primary",label:"عرض تفاصيل الختمة","icon-right":"chevron_left",to:"/khatma-tilawa",class:"full-width"})]),_:1})]),_:1})]),e("div",ze,[a(x,{class:"glass-card full-height shadow-15 border-gold overflow-hidden hover-lift"},{default:i(()=>[a(_,null,{default:i(()=>[e("div",Pe,[e("div",Ne,[s[3]||(s[3]=e("div",{class:"text-subtitle1 text-primary text-weight-bold"},"مواقيت صلاة مكة",-1)),e("div",Ve,o(y.value),1)]),a(j,{color:"amber-1","text-color":"amber-9",icon:"mosque",size:"40px"})]),P.value?(c(),d("div",Ae,[a(ve,{color:"primary",size:"3em"})])):(c(),d("div",Be,[(c(),d(I,null,D(K,(t,l)=>{var n;return e("div",{key:l,class:ie(["column items-center justify-center q-pa-md rounded-borders prayer-card transition-all",T(t.key)?"bg-gradient-gold text-white shadow-15 scale-105 active-prayer":"bg-white-50 text-grey-9"])},[a(z,{name:t.icon,size:"xs",color:T(t.key)?"white":"primary",class:"q-mb-xs"},null,8,["name","color"]),e("div",Le,o(l),1),e("div",Fe,o(((n=b.value)==null?void 0:n[t.key])||"--:--"),1),T(t.key)?(c(),d("div",He,"القادم")):V("",!0)],2)}),64))]))]),_:1})]),_:1})]),e("div",$e,[a(x,{class:"glass-card full-height bg-gradient-islamic text-white relative-position overflow-hidden shadow-20 border-primary-2 hover-lift"},{default:i(()=>[e("div",Ee,[a(z,{name:"menu_book"})]),a(_,{class:"column full-height justify-between q-pa-lg"},{default:i(()=>{var t,l,n;return[s[4]||(s[4]=e("div",{class:"text-subtitle2 text-weight-thin q-mb-md opacity-70"},"آية من الذكر الحكيم",-1)),k.value?(c(),d("div",Ke,[a(ge,{color:"white",size:"3em"})])):(c(),d("div",Oe,[e("div",Ge,' " '+o((t=g.value)==null?void 0:t.text)+' " ',1),e("div",Ue,[a(M,{round:"",flat:"",color:"white",icon:f.value?"stop":"play_arrow",onClick:R,size:"lg",class:"bg-white-20 hover-scale shadow-5"},{default:i(()=>[a(ne,null,{default:i(()=>[A(o(f.value?"إيقاف":"استماع"),1)]),_:1})]),_:1},8,["icon"]),e("div",Re,o((l=g.value)==null?void 0:l.surah)+" | آية "+o((n=g.value)==null?void 0:n.numberInSurah),1)])])),s[5]||(s[5]=e("div",{class:"text-caption text-right opacity-50 q-mt-md"},"تم التحديث تلقائياً",-1))]}),_:1})]),_:1})])]),e("div",Ye,[e("div",Je,[e("div",We,[a(z,{name:"auto_awesome",class:"q-mr-sm"}),s[6]||(s[6]=A(" الأذكار اليومية ",-1))]),e("div",Xe,[(c(),d(I,null,D($,t=>e("div",{key:t.title,class:"col-12 col-sm-6 col-md-3"},[a(x,{class:"glass-card flex-center column q-pa-md hover-lift border-primary-1 cursor-pointer",onClick:l=>E(t)},{default:i(()=>[a(j,{color:t.color,"text-color":t.textColor,icon:t.icon,size:"60px",class:"q-mb-sm shadow-5"},null,8,["color","text-color","icon"]),e("div",Ze,o(t.title),1),e("div",et,o(t.count)+" أذكار",1)]),_:2},1032,["onClick"])])),64))])])]),a(oe,{modelValue:q.value,"onUpdate:modelValue":s[0]||(s[0]=t=>q.value=t),"full-width":"","full-height":"","transition-show":"slide-up","transition-hide":"slide-down"},{default:i(()=>[a(x,{class:"glass-card no-border-radius"},{default:i(()=>[a(_,{class:"row items-center q-pb-none"},{default:i(()=>{var t;return[e("div",tt,o((t=C.value)==null?void 0:t.title),1),a(ce),se(a(M,{icon:"close",flat:"",round:"",dense:""},null,512),[[me]])]}),_:1}),a(re,{color:"primary-1",class:"q-my-md"}),a(_,{class:"scroll q-pa-md"},{default:i(()=>{var t;return[(c(!0),d(I,null,D((t=C.value)==null?void 0:t.items,(l,n)=>(c(),d("div",{key:n,class:"q-mb-lg"},[a(x,{flat:"",bordered:"",class:"q-pa-lg rounded-borders bg-primary-1 border-primary-2"},{default:i(()=>[e("div",at,o(l.text),1),e("div",st,[a(de,{outline:"",color:"primary",label:"عدد المرات"}),e("div",rt,o(l.repeat),1)])]),_:2},1024)]))),128))]}),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},vt=pe(ot,[["__scopeId","data-v-9640a0fd"]]);export{vt as default};
