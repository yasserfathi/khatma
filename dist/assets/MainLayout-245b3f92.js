import{m as U,p as c,q as k,s as we,t as _e,v as We,x as W,y as Ue,k as q,z as C,A as qe,B as ct,C as Z,D as dt,E as K,F as vt,G as ft,H as le,I as ve,J as Be,K as fe,L as Se,M as he,N as ht,O as Ye,P as Ke,R as mt,S as me,U as bt,V as yt,W as Me,X as gt,Y as zt,Z as St,_ as pt,$ as wt,a0 as _t,a1 as Te,a2 as Ge,a3 as xe,a4 as qt,u as Ct,c as be,w as O,l as ye,r as kt,o as G,a as _,j as re,b as Ae,f as Pe,a5 as oe,a6 as $e,a7 as De,a8 as Qe,a9 as Ot,aa as Bt,ab as Mt,h as Le,ac as Ee}from"./index-776326c9.js";import{Q as Tt}from"./QSpace-0963216b.js";import{Q as xt}from"./QTooltip-82c0d486.js";import{b as pe,c as At,Q as Pt,a as $t}from"./QLayout-d19150ad.js";import{b as E,Q as Dt,a as Ie,c as ne,d as He}from"./format-ac96bbe5.js";import{c as Qt}from"./position-engine-bd395f92.js";import{u as Lt}from"./use-quasar-f28ed4fd.js";const Et=U({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:i}){const s=c(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>k("div",{class:s.value},we(i.default))}}),It=U({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:i}){const s=c(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>k("div",{class:s.value,role:"toolbar"},we(i.default))}}),Ht=U({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:i,emit:s}){const{proxy:{$q:z}}=_e(),t=We(Ue,W);if(t===W)return console.error("QHeader needs to be child of QLayout"),W;const r=q(parseInt(e.heightHint,10)),o=q(!0),a=c(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||z.platform.is.ios&&t.isContainer.value===!0),b=c(()=>{if(e.modelValue!==!0)return 0;if(a.value===!0)return o.value===!0?r.value:0;const f=r.value-t.scroll.value.position;return f>0?f:0}),v=c(()=>e.modelValue!==!0||a.value===!0&&o.value!==!0),n=c(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),S=c(()=>"q-header q-layout__section--marginal "+(a.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),p=c(()=>{const f=t.rows.value.top,x={};return f[0]==="l"&&t.left.space===!0&&(x[z.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),f[2]==="r"&&t.right.space===!0&&(x[z.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),x});function m(f,x){t.update("header",f,x)}function y(f,x){f.value!==x&&(f.value=x)}function T({height:f}){y(r,f),m("size",f)}function B(f){n.value===!0&&y(o,!0),s("focusin",f)}C(()=>e.modelValue,f=>{m("space",f),y(o,!0),t.animate()}),C(b,f=>{m("offset",f)}),C(()=>e.reveal,f=>{f===!1&&y(o,e.modelValue)}),C(o,f=>{t.animate(),s("reveal",f)}),C(t.scroll,f=>{e.reveal===!0&&y(o,f.direction==="up"||f.position<=e.revealOffset||f.position-f.inflectionPoint<100)});const w={};return t.instances.header=w,e.modelValue===!0&&m("size",r.value),m("space",e.modelValue),m("offset",b.value),qe(()=>{t.instances.header===w&&(t.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const f=ct(i.default,[]);return e.elevated===!0&&f.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f.push(k(pe,{debounce:0,onResize:T})),k("header",{class:S.value,style:p.value,onFocusin:B},f)}}}),Vt=U({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[k("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),k("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Z(k("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Z(k("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Ce={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ft=Object.keys(Ce);Ce.all=!0;function Ve(e){const i={};for(const s of Ft)e[s]===!0&&(i[s]=!0);return Object.keys(i).length===0?Ce:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}const jt=["INPUT","TEXTAREA"];function Fe(e,i){return i.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof i.handler=="function"&&jt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(i.uid)===-1)}function ge(e,i,s){const z=Se(e);let t,r=z.left-i.event.x,o=z.top-i.event.y,a=Math.abs(r),b=Math.abs(o);const v=i.direction;v.horizontal===!0&&v.vertical!==!0?t=r<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=o<0?"up":"down":v.up===!0&&o<0?(t="up",a>b&&(v.left===!0&&r<0?t="left":v.right===!0&&r>0&&(t="right"))):v.down===!0&&o>0?(t="down",a>b&&(v.left===!0&&r<0?t="left":v.right===!0&&r>0&&(t="right"))):v.left===!0&&r<0?(t="left",a<b&&(v.up===!0&&o<0?t="up":v.down===!0&&o>0&&(t="down"))):v.right===!0&&r>0&&(t="right",a<b&&(v.up===!0&&o<0?t="up":v.down===!0&&o>0&&(t="down")));let n=!1;if(t===void 0&&s===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,n=!0,t==="left"||t==="right"?(z.left-=r,a=0,r=0):(z.top-=o,b=0,o=0)}return{synthetic:n,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:z,direction:t,isFirst:i.event.isFirst,isFinal:s===!0,duration:Date.now()-i.event.time,distance:{x:a,y:b},offset:{x:r,y:o},delta:{x:z.left-i.event.lastX,y:z.top-i.event.lastY}}}}let Nt=0;const J=dt({name:"touch-pan",beforeMount(e,{value:i,modifiers:s}){if(s.mouse!==!0&&K.has.touch!==!0)return;function z(r,o){s.mouse===!0&&o===!0?ht(r):(s.stop===!0&&fe(r),s.prevent===!0&&Be(r))}const t={uid:"qvtp_"+Nt++,handler:i,modifiers:s,direction:Ve(s),noop:vt,mouseStart(r){Fe(r,t)&&ft(r)&&(le(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(r,!0))},touchStart(r){if(Fe(r,t)){const o=r.target;le(t,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),t.start(r)}},start(r,o){if(K.is.firefox===!0&&ve(e,!0),t.lastEvt=r,o===!0||s.stop===!0){if(t.direction.all!==!0&&(o!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=r.type.indexOf("mouse")!==-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&Be(v),r.cancelBubble===!0&&fe(v),Object.assign(v,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[t.uid]:r.qClonedBy.concat(t.uid)}),t.initialEvent={target:r.target,event:v}}fe(r)}const{left:a,top:b}=Se(r);t.event={x:a,y:b,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:a,lastY:b}},move(r){if(t.event===void 0)return;const o=Se(r),a=o.left-t.event.x,b=o.top-t.event.y;if(a===0&&b===0)return;t.lastEvt=r;const v=t.event.mouse===!0,n=()=>{z(r,v);let m;s.preserveCursor!==!0&&s.preservecursor!==!0&&(m=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Qt(),t.styleCleanup=y=>{if(t.styleCleanup=void 0,m!==void 0&&(document.documentElement.style.cursor=m),document.body.classList.remove("non-selectable"),v===!0){const T=()=>{document.body.classList.remove("no-pointer-events--children")};y!==void 0?setTimeout(()=>{T(),y()},50):T()}else y!==void 0&&y()}};if(t.event.detected===!0){t.event.isFirst!==!0&&z(r,t.event.mouse);const{payload:m,synthetic:y}=ge(r,t,!1);m!==void 0&&(t.handler(m)===!1?t.end(r):(t.styleCleanup===void 0&&t.event.isFirst===!0&&n(),t.event.lastX=m.position.left,t.event.lastY=m.position.top,t.event.lastDir=y===!0?void 0:m.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){n(),t.event.detected=!0,t.move(r);return}const S=Math.abs(a),p=Math.abs(b);S!==p&&(t.direction.horizontal===!0&&S>p||t.direction.vertical===!0&&S<p||t.direction.up===!0&&S<p&&b<0||t.direction.down===!0&&S<p&&b>0||t.direction.left===!0&&S>p&&a<0||t.direction.right===!0&&S>p&&a>0?(t.event.detected=!0,t.move(r)):t.end(r,!0))},end(r,o){var a;if(t.event!==void 0){if(he(t,"temp"),K.is.firefox===!0&&ve(e,!1),o===!0)(a=t.styleCleanup)==null||a.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(ge(r===void 0?t.lastEvt:r,t).payload);const{payload:b}=ge(r===void 0?t.lastEvt:r,t,!0),v=()=>{t.handler(b)};t.styleCleanup!==void 0?t.styleCleanup(v):v()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,s.mouse===!0){const r=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";le(t,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}K.has.touch===!0&&le(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const s=e.__qtouchpan;s!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&s.end(),s.handler=i.value),s.direction=Ve(i.modifiers))},beforeUnmount(e){var s;const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),he(i,"main"),he(i,"temp"),K.is.firefox===!0&&ve(e,!1),(s=i.styleCleanup)==null||s.call(i),delete e.__qtouchpan)}}),je=["vertical","horizontal"],ze={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ne={prevent:!0,mouse:!0,mouseAllDir:!0},Re=e=>e>=250?50:Math.ceil(e/5),Rt=U({name:"QScrollArea",props:{...Ye,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:i,emit:s}){const z=q(!1),t=q(!1),r=q(!1),o={vertical:q(0),horizontal:q(0)},a={vertical:{ref:q(null),position:q(0),size:q(0)},horizontal:{ref:q(null),position:q(0),size:q(0)}},{proxy:b}=_e(),v=Ke(e,b.$q);let n=null,S;const p=q(null),m=c(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));Object.assign(o,{verticalInner:c(()=>o.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:c(()=>o.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),a.vertical.percentage=c(()=>{const u=a.vertical.size.value-o.vertical.value;if(u<=0)return 0;const d=E(a.vertical.position.value/u,0,1);return Math.round(d*1e4)/1e4}),a.vertical.thumbHidden=c(()=>(e.visible===null?r.value:e.visible)!==!0&&z.value===!1&&t.value===!1||a.vertical.size.value<=o.vertical.value+1),a.vertical.thumbStart=c(()=>e.verticalOffset[0]+a.vertical.percentage.value*(o.verticalInner.value-a.vertical.thumbSize.value)),a.vertical.thumbSize=c(()=>Math.round(E(o.verticalInner.value*o.verticalInner.value/a.vertical.size.value,Re(o.verticalInner.value),o.verticalInner.value))),a.vertical.style=c(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${a.vertical.thumbStart.value}px`,height:`${a.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),a.vertical.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.vertical.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(a.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),a.horizontal.percentage=c(()=>{const u=a.horizontal.size.value-o.horizontal.value;if(u<=0)return 0;const d=E(Math.abs(a.horizontal.position.value)/u,0,1);return Math.round(d*1e4)/1e4}),a.horizontal.thumbHidden=c(()=>(e.visible===null?r.value:e.visible)!==!0&&z.value===!1&&t.value===!1||a.horizontal.size.value<=o.horizontal.value+1),a.horizontal.thumbStart=c(()=>e.horizontalOffset[0]+a.horizontal.percentage.value*(o.horizontalInner.value-a.horizontal.thumbSize.value)),a.horizontal.thumbSize=c(()=>Math.round(E(o.horizontalInner.value*o.horizontalInner.value/a.horizontal.size.value,Re(o.horizontalInner.value),o.horizontalInner.value))),a.horizontal.style=c(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[b.$q.lang.rtl===!0?"right":"left"]:`${a.horizontal.thumbStart.value}px`,width:`${a.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),a.horizontal.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),a.horizontal.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(a.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const y=c(()=>a.vertical.thumbHidden.value===!0&&a.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function T(){const u={};return je.forEach(d=>{const g=a[d];Object.assign(u,{[d+"Position"]:g.position.value,[d+"Percentage"]:g.percentage.value,[d+"Size"]:g.size.value,[d+"ContainerSize"]:o[d].value,[d+"ContainerInnerSize"]:o[d+"Inner"].value})}),u}const B=mt(()=>{const u=T();u.ref=b,s("scroll",u)},0);function w(u,d,g){if(je.includes(u)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(u==="vertical"?Me:me)(p.value,d,g)}function f({height:u,width:d}){let g=!1;o.vertical.value!==u&&(o.vertical.value=u,g=!0),o.horizontal.value!==d&&(o.horizontal.value=d,g=!0),g===!0&&X()}function x({position:u}){let d=!1;a.vertical.position.value!==u.top&&(a.vertical.position.value=u.top,d=!0),a.horizontal.position.value!==u.left&&(a.horizontal.position.value=u.left,d=!0),d===!0&&X()}function ee({height:u,width:d}){a.horizontal.size.value!==d&&(a.horizontal.size.value=d,X()),a.vertical.size.value!==u&&(a.vertical.size.value=u,X())}function R(u,d){const g=a[d];if(u.isFirst===!0){if(g.thumbHidden.value===!0)return;S=g.position.value,t.value=!0}else if(t.value!==!0)return;u.isFinal===!0&&(t.value=!1);const D=ze[d],L=(g.size.value-o[d].value)/(o[d+"Inner"].value-g.thumbSize.value),Q=u.distance[D.dist],Y=S+(u.direction===D.dir?1:-1)*Q*L;te(Y,d)}function I(u,d){const g=a[d];if(g.thumbHidden.value!==!0){const D=d==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],L=u[ze[d].offset]-D,Q=g.thumbStart.value-D;if(L<Q||L>Q+g.thumbSize.value){const Y=L-g.thumbSize.value/2,ie=E(Y/(o[d+"Inner"].value-g.thumbSize.value),0,1);te(ie*Math.max(0,g.size.value-o[d].value),d)}g.ref.value!==null&&g.ref.value.dispatchEvent(new MouseEvent(u.type,u))}}function X(){z.value=!0,n!==null&&clearTimeout(n),n=setTimeout(()=>{n=null,z.value=!1},e.delay),e.onScroll!==void 0&&B()}function te(u,d){p.value[ze[d].scroll]=u}let A=null;function $(){A!==null&&clearTimeout(A),A=setTimeout(()=>{A=null,r.value=!0},b.$q.platform.is.ios?50:0)}function H(){A!==null&&(clearTimeout(A),A=null),r.value=!1}let N=null;C(()=>b.$q.lang.rtl,u=>{p.value!==null&&me(p.value,Math.abs(a.horizontal.position.value)*(u===!0?-1:1))}),bt(()=>{N={top:a.vertical.position.value,left:a.horizontal.position.value}}),yt(()=>{if(N===null)return;const u=p.value;u!==null&&(me(u,N.left),Me(u,N.top))}),qe(B.cancel),Object.assign(b,{getScrollTarget:()=>p.value,getScroll:T,getScrollPosition:()=>({top:a.vertical.position.value,left:a.horizontal.position.value}),getScrollPercentage:()=>({top:a.vertical.percentage.value,left:a.horizontal.percentage.value}),setScrollPosition:w,setScrollPercentage(u,d,g){w(u,d*(a[u].size.value-o[u].value)*(u==="horizontal"&&b.$q.lang.rtl===!0?-1:1),g)}});const V={scroll:a,thumbVertDir:[[J,u=>{R(u,"vertical")},void 0,{vertical:!0,...Ne}]],thumbHorizDir:[[J,u=>{R(u,"horizontal")},void 0,{horizontal:!0,...Ne}]],onVerticalMousedown(u){I(u,"vertical")},onHorizontalMousedown(u){I(u,"horizontal")}};return()=>k("div",{class:m.value,onMouseenter:$,onMouseleave:H},[k("div",{ref:p,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[k("div",{class:"q-scrollarea__content absolute",style:y.value},gt(i.default,[k(pe,{debounce:0,onResize:ee})])),k(At,{axis:"both",onScroll:x})]),k(pe,{debounce:0,onResize:f}),k(Vt,{store:V,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Xe=150,Xt=U({name:"QDrawer",inheritAttrs:!1,props:{...zt,...Ye,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...St,"onLayout","miniState"],setup(e,{slots:i,emit:s,attrs:z}){const t=_e(),{proxy:{$q:r}}=t,o=Ke(e,r),{preventBodyScroll:a}=qt(),{registerTimeout:b,removeTimeout:v}=pt(),n=We(Ue,W);if(n===W)return console.error("QDrawer needs to be child of QLayout"),W;let S,p=null,m;const y=q(e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint),T=c(()=>e.mini===!0&&y.value!==!0),B=c(()=>T.value===!0?e.miniWidth:e.width),w=q(e.showIfAbove===!0&&y.value===!1?!0:e.modelValue===!0),f=c(()=>e.persistent!==!0&&(y.value===!0||Y.value===!0));function x(l,h){if(X(),l!==!1&&n.animate(),P(0),y.value===!0){const M=n.instances[g.value];(M==null?void 0:M.belowBreakpoint)===!0&&M.hide(!1),F(1),n.isContainer.value!==!0&&a(!0)}else F(0),l!==!1&&se(!1);b(()=>{l!==!1&&se(!0),h!==!0&&s("show",l)},Xe)}function ee(l,h){te(),l!==!1&&n.animate(),F(0),P(H.value*B.value),ce(),h!==!0?b(()=>{s("hide",l)},Xe):v()}const{show:R,hide:I}=wt({showing:w,hideOnRouteChange:f,handleShow:x,handleHide:ee}),{addToHistory:X,removeFromHistory:te}=_t(w,I,f),A={belowBreakpoint:y,hide:I},$=c(()=>e.side==="right"),H=c(()=>(r.lang.rtl===!0?-1:1)*($.value===!0?1:-1)),N=q(0),V=q(!1),u=q(!1),d=q(B.value*H.value),g=c(()=>$.value===!0?"left":"right"),D=c(()=>w.value===!0&&y.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:B.value:0),L=c(()=>e.overlay===!0||e.miniToOverlay===!0||n.view.value.indexOf($.value?"R":"L")!==-1||r.platform.is.ios===!0&&n.isContainer.value===!0),Q=c(()=>e.overlay===!1&&w.value===!0&&y.value===!1),Y=c(()=>e.overlay===!0&&w.value===!0&&y.value===!1),ie=c(()=>"fullscreen q-drawer__backdrop"+(w.value===!1&&V.value===!1?" hidden":"")),Je=c(()=>({backgroundColor:`rgba(0,0,0,${N.value*.4})`})),ke=c(()=>$.value===!0?n.rows.value.top[2]==="r":n.rows.value.top[0]==="l"),Ze=c(()=>$.value===!0?n.rows.value.bottom[2]==="r":n.rows.value.bottom[0]==="l"),et=c(()=>{const l={};return n.header.space===!0&&ke.value===!1&&(L.value===!0?l.top=`${n.header.offset}px`:n.header.space===!0&&(l.top=`${n.header.size}px`)),n.footer.space===!0&&Ze.value===!1&&(L.value===!0?l.bottom=`${n.footer.offset}px`:n.footer.space===!0&&(l.bottom=`${n.footer.size}px`)),l}),tt=c(()=>{const l={width:`${B.value}px`,transform:`translateX(${d.value}px)`};return y.value===!0?l:Object.assign(l,et.value)}),at=c(()=>"q-drawer__content fit "+(n.isContainer.value!==!0?"scroll":"overflow-auto")),lt=c(()=>`q-drawer q-drawer--${e.side}`+(u.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(o.value===!0?" q-drawer--dark q-dark":"")+(V.value===!0?" no-transition":w.value===!0?"":" q-layout--prevent-focus")+(y.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${T.value===!0?"mini":"standard"}`+(L.value===!0||Q.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ke.value===!0?" q-drawer--top-padding":""))),rt=c(()=>{const l=r.lang.rtl===!0?e.side:g.value;return[[J,ut,void 0,{[l]:!0,mouse:!0}]]}),ot=c(()=>{const l=r.lang.rtl===!0?g.value:e.side;return[[J,Oe,void 0,{[l]:!0,mouse:!0}]]}),nt=c(()=>{const l=r.lang.rtl===!0?g.value:e.side;return[[J,Oe,void 0,{[l]:!0,mouse:!0,mouseAllDir:!0}]]});function ue(){st(y,e.behavior==="mobile"||e.behavior!=="desktop"&&n.totalWidth.value<=e.breakpoint)}C(y,l=>{l===!0?(S=w.value,w.value===!0&&I(!1)):e.overlay===!1&&e.behavior!=="mobile"&&S!==!1&&(w.value===!0?(P(0),F(0),ce()):R(!1))}),C(()=>e.side,(l,h)=>{n.instances[h]===A&&(n.instances[h]=void 0,n[h].space=!1,n[h].offset=0),n.instances[l]=A,n[l].size=B.value,n[l].space=Q.value,n[l].offset=D.value}),C(n.totalWidth,()=>{(n.isContainer.value===!0||document.qScrollPrevented!==!0)&&ue()}),C(()=>e.behavior+e.breakpoint,ue),C(n.isContainer,l=>{w.value===!0&&a(l!==!0),l===!0&&ue()}),C(n.scrollbarWidth,()=>{P(w.value===!0?0:void 0)}),C(D,l=>{j("offset",l)}),C(Q,l=>{s("onLayout",l),j("space",l)}),C($,()=>{P()}),C(B,l=>{P(),de(e.miniToOverlay,l)}),C(()=>e.miniToOverlay,l=>{de(l,B.value)}),C(()=>r.lang.rtl,()=>{P()}),C(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(it(),n.animate())}),C(T,l=>{s("miniState",l)});function P(l){l===void 0?Te(()=>{l=w.value===!0?0:B.value,P(H.value*l)}):(n.isContainer.value===!0&&$.value===!0&&(y.value===!0||Math.abs(l)===B.value)&&(l+=H.value*n.scrollbarWidth.value),d.value=l)}function F(l){N.value=l}function se(l){const h=l===!0?"remove":n.isContainer.value!==!0?"add":"";h!==""&&document.body.classList[h]("q-body--drawer-toggle")}function it(){p!==null&&clearTimeout(p),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),u.value=!0,p=setTimeout(()=>{var l,h;p=null,u.value=!1,(h=(l=t==null?void 0:t.proxy)==null?void 0:l.$el)==null||h.classList.remove("q-drawer--mini-animate")},150)}function ut(l){if(w.value!==!1)return;const h=B.value,M=E(l.distance.x,0,h);if(l.isFinal===!0){M>=Math.min(75,h)===!0?R():(n.animate(),F(0),P(H.value*h)),V.value=!1;return}P((r.lang.rtl===!0?$.value!==!0:$.value)?Math.max(h-M,0):Math.min(0,M-h)),F(E(M/h,0,1)),l.isFirst===!0&&(V.value=!0)}function Oe(l){if(w.value!==!0)return;const h=B.value,M=l.direction===e.side,ae=(r.lang.rtl===!0?M!==!0:M)?E(l.distance.x,0,h):0;if(l.isFinal===!0){Math.abs(ae)<Math.min(75,h)===!0?(n.animate(),F(1),P(0)):I(),V.value=!1;return}P(H.value*ae),F(E(1-ae/h,0,1)),l.isFirst===!0&&(V.value=!0)}function ce(){a(!1),se(!0)}function j(l,h){n.update(e.side,l,h)}function st(l,h){l.value!==h&&(l.value=h)}function de(l,h){j("size",l===!0?e.miniWidth:h)}return n.instances[e.side]=A,de(e.miniToOverlay,B.value),j("space",Q.value),j("offset",D.value),e.showIfAbove===!0&&e.modelValue!==!0&&w.value===!0&&e["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!0),Ge(()=>{s("onLayout",Q.value),s("miniState",T.value),S=e.showIfAbove===!0;const l=()=>{(w.value===!0?x:ee)(!1,!0)};if(n.totalWidth.value!==0){Te(l);return}m=C(n.totalWidth,()=>{m(),m=void 0,w.value===!1&&e.showIfAbove===!0&&y.value===!1?R(!1):l()})}),qe(()=>{m==null||m(),p!==null&&(clearTimeout(p),p=null),w.value===!0&&ce(),n.instances[e.side]===A&&(n.instances[e.side]=void 0,j("size",0),j("offset",0),j("space",!1))}),()=>{const l=[];y.value===!0&&(e.noSwipeOpen===!1&&l.push(Z(k("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),rt.value)),l.push(xe("div",{ref:"backdrop",class:ie.value,style:Je.value,"aria-hidden":"true",onClick:I},void 0,"backdrop",e.noSwipeBackdrop!==!0&&w.value===!0,()=>nt.value)));const h=T.value===!0&&i.mini!==void 0,M=[k("div",{...z,key:""+h,class:[at.value,z.class]},h===!0?i.mini():we(i.default))];return e.elevated===!0&&w.value===!0&&M.push(k("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(xe("aside",{ref:"content",class:lt.value,style:tt.value},M,"contentclose",e.noSwipeClose!==!0&&y.value===!0,()=>ot.value)),k("div",{class:"q-drawer-container"},l)}}}),Wt={class:"q-gutter-sm row items-center no-wrap"},Ut={key:0,class:"text-subtitle1 text-grey-8 q-mx-sm"},la={__name:"MainLayout",setup(e){const i=Ct(),s=Lt(),z=q(!1),t=q(""),r=()=>{s.dark.toggle()},o=async()=>{try{const n=await ye.get("/api/user");t.value=n.data.name}catch(n){console.error("Error fetching user",n)}},a=async()=>{try{await ye.post("/api/logout")}catch(n){console.error("Logout error",n)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),delete ye.defaults.headers.common.Authorization,s.notify({color:"primary",icon:"check_circle",message:"تم تسجيل الخروج بنجاح"}),i.push("/")}};function b(){z.value=!z.value}Ge(()=>{o()});const v=[{icon:"home",text:"الرئيسية",to:"/app"},{icon:"group",text:"مجموعات الواتساب",to:"/group"},{icon:"group",text:"مجموعات القراءة",to:"/group-reading"},{icon:"person",text:"المشاركين",to:"/user"},{icon:"person",text:"ترقيم المشتركين",to:"/zikr-participants"},{icon:"menu_book",text:"ختمات التلاوة",to:"/khatma-tilawa"},{icon:"menu_book",text:"ختمات الذكر",to:"/khatma-zikr"}];return(n,S)=>{const p=kt("router-view");return G(),be(Pt,{view:"hHh lpR fFf",class:"bg-grey-1"},{default:O(()=>[_(Ht,{elevated:"",class:"text-grey-8 q-py-xs glass-header","height-hint":"58"},{default:O(()=>[_(It,null,{default:O(()=>[_(re,{flat:"",dense:"",round:"",onClick:b,"aria-label":"Menu",icon:"menu"}),Ae(s).screen.gt.xs?(G(),be(re,{key:0,flat:"","no-caps":"","no-wrap":"",class:"q-ml-xs"},{default:O(()=>[S[2]||(S[2]=Pe("img",{src:"/logo.png",style:{height:"28px",width:"auto"},class:"q-mr-sm"},null,-1)),_(Et,{shrink:"",class:"text-weight-bold text-primary"},{default:O(()=>[...S[1]||(S[1]=[oe(" Khatma ",-1)])]),_:1})]),_:1})):$e("",!0),_(Tt),Pe("div",Wt,[_(re,{flat:"",round:"",icon:Ae(s).dark.isActive?"dark_mode":"light_mode",onClick:r},{default:O(()=>[_(xt,null,{default:O(()=>[...S[3]||(S[3]=[oe("الوضع الليلي",-1)])]),_:1})]),_:1},8,["icon"]),t.value?(G(),De("div",Ut," مرحباً "+Qe(t.value),1)):$e("",!0),_(re,{outline:"",color:"primary",label:"تسجيل الخروج",icon:"logout",onClick:a,class:"q-ml-sm"})])]),_:1})]),_:1}),_(Xt,{modelValue:z.value,"onUpdate:modelValue":S[0]||(S[0]=m=>z.value=m),"show-if-above":"",bordered:"",class:"glass-drawer",width:240},{default:O(()=>[_(Rt,{class:"fit"},{default:O(()=>[_(Dt,{padding:""},{default:O(()=>[(G(),De(Bt,null,Ot(v,m=>Z(_(Ie,{key:m.text,clickable:"",to:m.to},{default:O(()=>[_(ne,{avatar:""},{default:O(()=>[_(Le,{color:"grey-8",name:m.icon},null,8,["name"])]),_:2},1024),_(ne,null,{default:O(()=>[_(He,{class:"sidebar-label"},{default:O(()=>[oe(Qe(m.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),[[Ee]])),64)),_(Mt,{class:"q-my-md"}),Z((G(),be(Ie,{clickable:"",to:"/change-password","active-class":"text-primary bg-primary-1"},{default:O(()=>[_(ne,{avatar:""},{default:O(()=>[_(Le,{color:"grey-8",name:"lock"})]),_:1}),_(ne,null,{default:O(()=>[_(He,{class:"sidebar-label"},{default:O(()=>[...S[4]||(S[4]=[oe("تغيير كلمة المرور",-1)])]),_:1})]),_:1})]),_:1})),[[Ee]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),_($t,null,{default:O(()=>[_(p)]),_:1})]),_:1})}}};export{la as default};
